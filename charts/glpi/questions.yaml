# file: questions.yaml
questions:
  - variable: image.tag
    label: GLPI image tag (version)
    description: Container image tag for glpi/glpi
    type: string
    required: true
    default: "latest"
    group: Image

  - variable: mariadbSize
    label: MariaDB storage size
    description: PVC size for MariaDB (e.g., 8Gi, 20Gi)
    type: string
    required: true
    default: "8Gi"
    group: Storage

  - variable: glpiSize
    label: GLPI app storage size
    description: PVC size for GLPI application data (e.g., 8Gi, 20Gi)
    type: string
    required: true
    default: "8Gi"
    group: Storage

  - variable: ingress.enabled
    label: Enable Ingress
    type: boolean
    default: true
    group: Ingress
    subquestions:
      - variable: ingress.className
        label: Ingress class name
        type: string
        default: ""

      - variable: ingressForm.host
        label: Hostname
        type: hostname
        required: true
        default: chart-example.local

      - variable: ingressForm.path
        label: Path
        type: string
        required: true
        default: "/"

      - variable: ingressForm.pathType
        label: Path type
        type: enum
        options: [ImplementationSpecific, Prefix, Exact]
        default: ImplementationSpecific

      - variable: ingressForm.tls.enabled
        label: Enable TLS
        type: boolean
        default: false

      - variable: ingressForm.tls.secretName
        label: TLS secret name (optional)
        description: Leave empty to let cert-manager create/populate it
        type: string
        default: ""
        show_if: "ingressForm.tls.enabled=true"

      # --- cert-manager controls ---
      - variable: certManager.enabled
        label: Use cert-manager for certificates
        description: Add cert-manager issuer annotations to the Ingress
        type: boolean
        default: false

      - variable: certManager.issuerKind
        label: Issuer kind
        type: enum
        options: [ClusterIssuer, Issuer]
        default: ClusterIssuer
        show_if: "certManager.enabled=true"

      - variable: certManager.issuerName
        label: Issuer name
        description: Name of the cert-manager Issuer/ClusterIssuer
        type: string
        required: true
        default: ""
        show_if: "certManager.enabled=true"

      - variable: certManager.http01EditInPlace
        label: Use http01-edit-in-place
        description: Set acme.cert-manager.io/http01-edit-in-place=true
        type: boolean
        default: false
        show_if: "certManager.enabled=true"
